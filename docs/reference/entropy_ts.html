<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Extract the spectral entropy across signals as a time series — entropy_ts • warbleR</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Extract the spectral entropy across signals as a time series — entropy_ts" />
<meta property="og:description" content="entropy_ts spectral entropy across signals as a time series." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">warbleR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.26</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="divider"></li>
    <li class="dropdown-header">vignettes</li>
    <li>
      <a href="../articles/Intro_to_warbleR.html">&lt;center&gt;&lt;font size="7"&gt;&lt;b&gt;Introduction to warbleR&lt;/b&gt;&lt;/font&gt;&lt;/center&gt;</a>
    </li>
    <li>
      <a href="../articles/warbleR_workflow_01.html">&lt;center&gt;&lt;font size="7"&gt;&lt;b&gt;warbleR&amp;#58; Import sound files and select signals&lt;/b&gt;&lt;/font&gt;&lt;/center&gt;</a>
    </li>
    <li>
      <a href="../articles/warbleR_workflow_02.html">&lt;center&gt;&lt;font size="7"&gt;&lt;b&gt;warbleR&amp;#58; Visual inspection and signal classification&lt;/b&gt;&lt;/font&gt;&lt;/center&gt;</a>
    </li>
    <li>
      <a href="../articles/warbleR_workflow_03.html">&lt;center&gt;&lt;font size="7"&gt;&lt;b&gt;warbleR&amp;#58; Acoustic (dis)similarity, coordinated singing and simulating songs&lt;/b&gt;&lt;/font&gt;&lt;/center&gt;</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/maRce10/warbleR/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Extract the spectral entropy across signals as a time series</h1>
    <small class="dont-index">Source: <a href='https://github.com/maRce10/warbleR/blob/master/R/entropy_ts.R'><code>R/entropy_ts.R</code></a></small>
    <div class="hidden name"><code>entropy_ts.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>entropy_ts</code> spectral entropy across signals as a time series.</p>
    </div>

    <pre class="usage"><span class='fu'>entropy_ts</span><span class='op'>(</span><span class='va'>X</span>, wl <span class='op'>=</span> <span class='fl'>512</span>, length.out <span class='op'>=</span> <span class='fl'>20</span>, wn <span class='op'>=</span> <span class='st'>"hanning"</span>, ovlp <span class='op'>=</span> <span class='fl'>70</span>, bp <span class='op'>=</span> <span class='st'>"frange"</span>,
  threshold <span class='op'>=</span> <span class='fl'>15</span>, img <span class='op'>=</span> <span class='cn'>TRUE</span>, parallel <span class='op'>=</span> <span class='fl'>1</span>, path <span class='op'>=</span> <span class='cn'>NULL</span>, img.suffix <span class='op'>=</span> <span class='st'>"entropy_ts"</span>,
   pb <span class='op'>=</span> <span class='cn'>TRUE</span>, clip.edges <span class='op'>=</span> <span class='cn'>FALSE</span>, leglab <span class='op'>=</span> <span class='st'>"entropy_ts"</span>, sp.en.range <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span>, <span class='fl'>10</span><span class='op'>)</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>X</th>
      <td><p>object of class 'selection_table', 'extended_selection_table' or data 
frame containing columns for sound file name (sound.files), 
selection number (selec), and start and end time of signal (start and end).
The output of <code><a href='auto_detec.html'>auto_detec</a></code> can  also be used as the input data frame.</p></td>
    </tr>
    <tr>
      <th>wl</th>
      <td><p>A numeric vector of length 1 specifying the window length of the spectrogram, default 
is 512. Note that this is particularly important for measuring spectral entropy. Low values (~100) 
generate a very detail contour of the variation in spectral entropy that is probably not useful for 
assessing signal similarity.</p></td>
    </tr>
    <tr>
      <th>length.out</th>
      <td><p>A character vector of length 1 giving the number of measurements of spectral entropy 
desired (the length of the time series).</p></td>
    </tr>
    <tr>
      <th>wn</th>
      <td><p>Character vector of length 1 specifying window name. Default is 
"hanning". See function <code><a href='https://rdrr.io/pkg/seewave/man/ftwindow.html'>ftwindow</a></code> for more options.</p></td>
    </tr>
    <tr>
      <th>ovlp</th>
      <td><p>Numeric vector of length 1 specifying % of overlap between two 
consecutive windows, as in <code><a href='https://rdrr.io/pkg/seewave/man/spectro.html'>spectro</a></code>. Default is 70.</p></td>
    </tr>
    <tr>
      <th>bp</th>
      <td><p>A numeric vector of length 2 for the lower and upper limits of a 
frequency bandpass filter (in kHz). If 'frange' (default) then the
'bottom.freq' and 'top.freq' columns are used bandpass limits.</p></td>
    </tr>
    <tr>
      <th>threshold</th>
      <td><p>amplitude threshold (%) for dominant frequency detection. Default is 15.</p></td>
    </tr>
    <tr>
      <th>img</th>
      <td><p>Logical argument. If <code>FALSE</code>, image files are not produced. Default is <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>parallel</th>
      <td><p>Numeric. Controls whether parallel computing is applied.
It specifies the number of cores to be used. Default is 1 (i.e. no parallel computing).</p></td>
    </tr>
    <tr>
      <th>path</th>
      <td><p>Character string containing the directory path where the sound files are located.</p></td>
    </tr>
    <tr>
      <th>img.suffix</th>
      <td><p>A character vector of length 1 with a sufix (label) to add at the end of the names of 
image files.</p></td>
    </tr>
    <tr>
      <th>pb</th>
      <td><p>Logical argument to control progress bar. Default is <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>clip.edges</th>
      <td><p>Logical argument to control whether edges (start or end of signal) in
which amplitude values above the threshold were not detected will be removed. If 
<code>TRUE</code> this edges will be excluded and signal contour will be calculated on the
remaining values. Default is <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>leglab</th>
      <td><p>A character vector of length 1 or 2 containing the label(s) of the frequency contour legend 
in the output image.</p></td>
    </tr>
    <tr>
      <th>sp.en.range</th>
      <td><p>Numeric vector of length 2. Range of frequency in which to display the entropy values 
on the spectrogram (when img = TRUE). Default is c(2, 10). Negative values can be used in order to stretch more
the range.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional arguments to be passed to <code><a href='freq_track.html'>freq_track</a></code> for customizing
graphical output.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data frame with the dominant frequency values measured across the signals. If img is 
<code>TRUE</code> it also produces image files with the spectrograms of the signals listed in the 
input data frame showing the location of the dominant frequencies 
(see <code><a href='freq_track.html'>freq_track</a></code> description for more details).</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function spectral entropy across signals as a time series. 
The function uses the <code><a href='https://rdrr.io/r/stats/approxfun.html'>approx</a></code> function to interpolate values between spectral 
entropy measures (calculated with <code><a href='https://rdrr.io/pkg/seewave/man/csh.html'>csh</a></code>). If there are no frequencies above the amplitude threshold 
at the beginning or end  of the signals then NAs will be generated. On the other hand, 
if there are no frequencies above the amplitude theshold in between signal segments in which amplitude was 
 detected then the values of this adjacent segments will be interpolated 
 to fill out the missing values (e.g. no NAs in between detected amplitude segments). Missing values at the start
 of end can be removed with "clip.edges".</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Araya-Salas, M., &amp; Smith-Vidaurre, G. (2017). warbleR: An R package to streamline analysis of animal acoustic signals. Methods in Ecology and Evolution, 8(2), 184-191.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='spectrograms.html'>spectrograms</a></code> for creating spectrograms from selections,
 <code><a href='snr_specs.html'>snr_specs</a></code> for creating spectrograms to 
  optimize noise margins used in <code><a href='sig2noise.html'>sig2noise</a></code></p>
<p>Other spectrogram creators: 
<code><a href='color_spectro.html'>color_spectro</a>()</code>,
<code><a href='df_DTW.html'>df_DTW</a>()</code>,
<code><a href='dfts.html'>dfts</a>()</code>,
<code><a href='ff_DTW.html'>ff_DTW</a>()</code>,
<code><a href='ffts.html'>ffts</a>()</code>,
<code><a href='freq_track.html'>freq_track</a>()</code>,
<code><a href='multi_DTW.html'>multi_DTW</a>()</code>,
<code><a href='phylo_spectro.html'>phylo_spectro</a>()</code>,
<code><a href='snr_spectrograms.html'>snr_spectrograms</a>()</code>,
<code><a href='spectrograms.html'>spectrograms</a>()</code></p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Marcelo Araya-Salas (<a href='mailto:marcelo.araya@ucr.ac.cr'>marcelo.araya@ucr.ac.cr</a>)</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='op'>{</span>
<span class='co'>#load data</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span>list <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Phae.long1"</span>, <span class='st'>"Phae.long2"</span>,  <span class='st'>"Phae.long3"</span>,  <span class='st'>"Phae.long4"</span>,<span class='st'>"lbh_selec_table"</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'>writeWave</span><span class='op'>(</span><span class='va'>Phae.long2</span>, <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='st'>"Phae.long2.wav"</span><span class='op'>)</span><span class='op'>)</span> <span class='co'>#save sound files</span>
<span class='fu'>writeWave</span><span class='op'>(</span><span class='va'>Phae.long1</span>, <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='st'>"Phae.long1.wav"</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'>writeWave</span><span class='op'>(</span><span class='va'>Phae.long3</span>, <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='st'>"Phae.long3.wav"</span><span class='op'>)</span><span class='op'>)</span> <span class='co'>#save sound files</span>
<span class='fu'>writeWave</span><span class='op'>(</span><span class='va'>Phae.long4</span>, <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='st'>"Phae.long4.wav"</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># without clip edges</span>
<span class='fu'>entropy_ts</span><span class='op'>(</span>X <span class='op'>=</span> <span class='va'>lbh_selec_table</span>, threshold <span class='op'>=</span> <span class='fl'>10</span>, clip.edges <span class='op'>=</span> <span class='cn'>FALSE</span>, length.out <span class='op'>=</span> <span class='fl'>10</span>, 
type <span class='op'>=</span> <span class='st'>"b"</span>, sp.en.range <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>25</span>, <span class='fl'>10</span><span class='op'>)</span>, path <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span>, img <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>

<span class='co'># with clip edges and length.out 10</span>
<span class='fu'>entropy_ts</span><span class='op'>(</span>X <span class='op'>=</span> <span class='va'>lbh_selec_table</span>, threshold <span class='op'>=</span> <span class='fl'>10</span>, bp <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span>, <span class='fl'>12</span><span class='op'>)</span>, clip.edges <span class='op'>=</span> <span class='cn'>TRUE</span>, 
length.out <span class='op'>=</span> <span class='fl'>10</span>, path <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span>, img <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>

<span class='op'>}</span>
</div><div class='output co'>#&gt;       sound.files selec sp.en-1 sp.en-2 sp.en-3 sp.en-4 sp.en-5 sp.en-6 sp.en-7
#&gt; 1  Phae.long1.wav     1   0.895   0.843   0.859   0.891   0.840   0.880   0.861
#&gt; 2  Phae.long1.wav     2   0.901   0.802   0.887   0.903   0.853   0.842   0.902
#&gt; 3  Phae.long1.wav     3   0.945   0.881   0.876   0.931   0.859   0.878   0.931
#&gt; 4  Phae.long2.wav     1   0.929   0.891   0.921   0.920   0.897   0.879   0.883
#&gt; 5  Phae.long2.wav     2   0.920   0.900   0.923   0.924   0.898   0.879   0.875
#&gt; 6  Phae.long3.wav     1   0.932   0.905   0.852   0.880   0.859   0.864   0.849
#&gt; 7  Phae.long3.wav     2   0.933   0.904   0.884   0.873   0.854   0.867   0.863
#&gt; 8  Phae.long3.wav     3   0.916   0.901   0.832   0.872   0.854   0.862   0.866
#&gt; 9  Phae.long4.wav     1   0.924   0.842   0.815   0.825   0.835   0.884   0.881
#&gt; 10 Phae.long4.wav     2   0.931   0.835   0.834   0.834   0.849   0.900   0.845
#&gt; 11 Phae.long4.wav     3   0.949   0.828   0.818   0.839   0.855   0.886   0.868
#&gt;    sp.en-8 sp.en-9 sp.en-10
#&gt; 1    0.779   0.826    0.933
#&gt; 2    0.798   0.814    0.923
#&gt; 3    0.782   0.826    0.862
#&gt; 4    0.872   0.894    0.928
#&gt; 5    0.877   0.873    0.910
#&gt; 6    0.854   0.862    0.934
#&gt; 7    0.845   0.847    0.861
#&gt; 8    0.841   0.850    0.894
#&gt; 9    0.776   0.804    0.901
#&gt; 10   0.770   0.818    0.903
#&gt; 11   0.804   0.831    0.912</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Marcelo Araya-Salas, Grace Smith-Vidaurre.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


