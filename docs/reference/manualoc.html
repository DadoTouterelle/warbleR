<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Interactive view of spectrograms — manualoc • warbleR</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Interactive view of spectrograms — manualoc" />
<meta property="og:description" content="manualoc produces an interactive spectrographic view in which the start 
and end times of acoustic signals can be measured." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">warbleR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.24</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/maRce10/warbleR/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Interactive view of spectrograms</h1>
    <small class="dont-index">Source: <a href='https://github.com/maRce10/warbleR/blob/master/R/manualoc.R'><code>R/manualoc.R</code></a></small>
    <div class="hidden name"><code>manualoc.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>manualoc</code> produces an interactive spectrographic view in which the start 
and end times of acoustic signals can be measured.</p>
    </div>

    <pre class="usage"><span class='fu'>manualoc</span>(<span class='kw'>wl</span> <span class='kw'>=</span> <span class='fl'>512</span>, <span class='kw'>flim</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0</span>,<span class='fl'>12</span>), <span class='kw'>seltime</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>tdisp</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>reccomm</span> <span class='kw'>=</span>
  <span class='fl'>FALSE</span>, <span class='kw'>wn</span> <span class='kw'>=</span> <span class='st'>"hanning"</span>, <span class='kw'>title</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>selcomm</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>osci</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>player</span> <span class='kw'>=</span>
  <span class='kw'>NULL</span>, <span class='kw'>pal</span> <span class='kw'>=</span> <span class='no'>reverse.gray.colors.2</span>, <span class='kw'>path</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>flist</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>fast.spec</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>ext.window</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>width</span> <span class='kw'>=</span> <span class='fl'>15</span>, <span class='kw'>height</span> <span class='kw'>=</span> <span class='fl'>5</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>wl</th>
      <td><p>A numeric vector of length 1 specifying the spectrogram window length. Default is 512.</p></td>
    </tr>
    <tr>
      <th>flim</th>
      <td><p>A numeric vector of length 2 specifying the frequency limit (in kHz) of 
the spectrogram, as in the function <code><a href='https://rdrr.io/pkg/seewave/man/spectro.html'>spectro</a></code>. 
Default is c(0,12).</p></td>
    </tr>
    <tr>
      <th>seltime</th>
      <td><p>A numeric vector of length 1 indicating the time interval in seconds at which 
the spectrograms are produced with higher resolution (ovlp = 70) and oscillograms (if osci = <code>TRUE</code>). 
 Default is 1 second.</p></td>
    </tr>
    <tr>
      <th>tdisp</th>
      <td><p>A numeric vector of length 1 specifying the length in seconds of the total sound file to 
be displayed. Default is <code>NULL</code> which displays the full sound file.</p></td>
    </tr>
    <tr>
      <th>reccomm</th>
      <td><p>Logical argument. If <code>TRUE</code> pops up a comment window at the end of each sound file.
The comment needs to be quoted. Default is <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>wn</th>
      <td><p>A character vector of length 1 specifying the window function (by default "hanning"). See function 
<code><a href='https://rdrr.io/pkg/seewave/man/ftwindow.html'>ftwindow</a></code> for more options.</p></td>
    </tr>
    <tr>
      <th>title</th>
      <td><p>Logical argument. If <code>TRUE</code> the name of the sound file will be printed as the main 
title of the spectrogram window. Default is <code>TRUE</code></p></td>
    </tr>
    <tr>
      <th>selcomm</th>
      <td><p>Logical argument. If <code>TRUE</code> pops up a comment window after each selection. The 
comment is printed as a label on the selected unit. The comment must be quoted. Default is <code>FALSE</code></p></td>
    </tr>
    <tr>
      <th>osci</th>
      <td><p>Logical argument. If <code>TRUE</code> adds a oscillogram whenever the spectrograms are produced 
with higher resolution (see seltime). Default is <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>player</th>
      <td><p>Path to or name of a program capable of playing a wave file by 
invocation from the command line. If under Windows and no player is given, 
windows player will be chosen as the default. "vlc" works in Linux if vlc player is installed. 
The external program must be closed before resuming analysis. Default is <code>NULL</code>.</p></td>
    </tr>
    <tr>
      <th>pal</th>
      <td><p>A color palette function to be used to assign colors in the 
plot, as in <code><a href='https://rdrr.io/pkg/seewave/man/spectro.html'>spectro</a></code>. Default is reverse.gray.colors.2. See Details.</p></td>
    </tr>
    <tr>
      <th>path</th>
      <td><p>Character string containing the directory path where the sound files are located. 
If <code>NULL</code> (default) then the current working directory is used.</p></td>
    </tr>
    <tr>
      <th>flist</th>
      <td><p>character vector or factor indicating the subset of files that will be analyzed. Ignored
if X is provided.</p></td>
    </tr>
    <tr>
      <th>fast.spec</th>
      <td><p>Logical. If <code>TRUE</code> then image function is used internally to create spectrograms, which substantially 
increases performance (much faster), although some options become unavailable, as collevels, and sc (amplitude scale).
This option is indicated for signals with high background noise levels. Palette colors <code><a href='https://rdrr.io/pkg/monitoR/man/specCols.html'>gray.1</a></code>, <code><a href='https://rdrr.io/pkg/monitoR/man/specCols.html'>gray.2</a></code>, 
<code><a href='https://rdrr.io/pkg/monitoR/man/specCols.html'>gray.3</a></code>, <code><a href='https://rdrr.io/pkg/monitoR/man/specCols.html'>topo.1</a></code> and <code><a href='https://rdrr.io/pkg/monitoR/man/specCols.html'>rainbow.1</a></code> (which should be imported from the package monitoR) seem
to work better with 'fast' spectrograms. Palette colors <code><a href='https://rdrr.io/pkg/monitoR/man/specCols.html'>gray.1</a></code>, <code><a href='https://rdrr.io/pkg/monitoR/man/specCols.html'>gray.2</a></code>, 
<code><a href='https://rdrr.io/pkg/monitoR/man/specCols.html'>gray.3</a></code> offer 
decreasing darkness levels.</p></td>
    </tr>
    <tr>
      <th>ext.window</th>
      <td><p>Logical. If <code>TRUE</code> then and external graphic window is used. Default 
dimensions can be set using the 'width' and 'height' arguments. Default is <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>width</th>
      <td><p>Numeric of length 1 controlling the width of the external graphic window. Ignored
if <code>ext.window = FALSE</code>. Default is 15.</p></td>
    </tr>
    <tr>
      <th>height</th>
      <td><p>Numeric of length 1 controlling the height of the external graphic window.
Ignored if <code>ext.window = FALSE</code>. Default is 5.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>.csv file saved in the working directory with start and end time of 
  selections.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function may work very slowly with middle and large size sound files. We strongly suggest using
 other software tools (e.g. Raven, Avisoft) to create selection tables manually.</p>
<p>Users can zoom-in a specific sound file segment by clicking at the 
  start and end (left side and right side) of the segment. To select the
  start and end of a vocalization unit the users need to click at the end and
  then at the start (right side and left side) of the unit. In addition, 6 
  "buttons" are provided at the upper right side of the spectrogram that
  allow to display a full view of the spectrogram ("Full view"), go back to
  the previous view ("Previous view"), stop the analysis ("Stop"), go to the
  next sound file ("Next rec"), play the current view using external software 
  ("Play", see "player" argument), or delete the last manual selection in the
  current sound file ("Delete"). When a unit has been selected, the function 
  plots a red circle with the selection number in the middle point of the 
  selection in the spectrogram. It also plots vertical dotted lines at the 
  start and end of the selection. The circle and lines "disappear" when the 
  selection is deleted ("Delete" button). Only the last selection can be deleted.</p>  
<p>The function produces a .csv file (manualoc_output.csv) with information about the .wav file name,
  selection number, start and end time, selection comment (selcomm), and
  sound file comment (reccomm). The file is saved in the working directory and
  is updated every time the user moves into the next sound file (Next rec
  "button") or stop the process (Stop "button"). When resuming the process
  (after "stop" and re-running the function in the same working directory),
  the function will keep the previous selections and will only pick up .wav
  files that are not present in the .csv file (not previously analyzed). When users 
  go to the next sound file (Next rec "button") without making any
  selection the file is still included in the .csv file, with NA's in the
  "end", "time" and "selec" field.</p>  
<p>Windows length (wl) controls the temporal and frequency precision of the spectrogram. 
  A high "wl" value increases the frequency resolution but reduces the temporal resolution, and vice versa. Any
  color palette that comes with the seewave package can be used: temp.colors,
  reverse.gray.colors.1, reverse.gray.colors.2, reverse.heat.colors, reverse.terrain.colors,
  reverse.topo.colors, reverse.cm.colors, heat.colors, terrain.colors, topo.colors,
  cm.colors. The function is slow when working on files of length &gt; 5min. In most cases other
  sound analysis software for manually selecting acoustic signals (e.g. Raven, Syrinx) should
  be preferred.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='seltailor.html'>seltailor</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='co'># save wav file examples</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='kw'>list</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"Phae.long1"</span>, <span class='st'>"Phae.long2"</span>, <span class='st'>"Phae.long3"</span>, <span class='st'>"Phae.long4"</span>))
<span class='fu'>writeWave</span>(<span class='no'>Phae.long1</span>, <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span>(), <span class='st'>"Phae.long1.wav"</span>))
<span class='fu'>writeWave</span>(<span class='no'>Phae.long2</span>, <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span>(), <span class='st'>"Phae.long2.wav"</span>))
<span class='fu'>writeWave</span>(<span class='no'>Phae.long3</span>, <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span>(), <span class='st'>"Phae.long3.wav"</span>))
<span class='fu'>writeWave</span>(<span class='no'>Phae.long4</span>, <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span>(), <span class='st'>"Phae.long4.wav"</span>))

<span class='fu'>manualoc</span>(<span class='kw'>wl</span> <span class='kw'>=</span> <span class='fl'>300</span>, <span class='kw'>path</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span>())
<span class='co'># need to use the buttoms to manipulate function</span>
<span class='co'># check working directory for .csv file after stopping function</span>
<span class='co'>#check here:</span>
<span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span>()
}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Marcelo Araya-Salas, Grace Smith-Vidaurre.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


